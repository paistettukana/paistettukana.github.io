(this.webpackJsonpfanikauppa=this.webpackJsonpfanikauppa||[]).push([[0],{13:function(e,t,i){},15:function(e,t,i){"use strict";i.r(t);var c=i(1),n=i.n(c),s=i(7),r=i.n(s),a=(i(13),i(8)),o=i(2),d=i(5),l=i(0);function j(e){var t=e.countCartItems;return Object(l.jsxs)("header",{className:"row block center",children:[Object(l.jsx)("div",{children:Object(l.jsx)("a",{href:"#/",children:Object(l.jsx)("h1",{className:"ostoskori-h1",children:"Ostoskori"})})}),Object(l.jsx)("div",{children:Object(l.jsxs)("a",{href:"#/cart",className:"ostoskori-h1",children:["Ostoskori "," ",t?Object(l.jsx)("button",{className:"badge",children:t}):""]})})]})}function u(e){var t=e.tuote,i=e.onAdd;return Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{className:"small",src:t.kuva,alt:t.nimi}),Object(l.jsx)("h3",{children:t.nimi}),Object(l.jsxs)("div",{children:["\u20ac",t.hinta]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{onClick:function(){return i(t)},children:"Lis\xe4\xe4 koriin"})})]})}function h(e){var t=e.tuotteet,i=e.onAdd;return Object(l.jsxs)("main",{className:" block col-2",children:[Object(l.jsx)("h2",{children:"Tuotteet"}),Object(l.jsx)("div",{className:"row",children:t.map((function(e){return Object(l.jsx)(u,{tuote:e,onAdd:i},e.id)}))})]})}function b(e){var t=e.cartItems,i=e.onAdd,c=e.onRemove,n=e.n\u00e4yt\u00e4Form,s=e.setFinalPrice,r=t.reduce((function(e,t){return e+t.hinta*t.qty}),0),a=.24*r,o=r>500?0:39.9,d=r+a+o;return s(d),Object(l.jsxs)("aside",{className:"block col-1",children:[Object(l.jsx)("h2",{children:"Ostokorin tavarat"}),Object(l.jsx)("div",{children:0===t.length&&Object(l.jsx)("div",{children:"Ostoskori on tyhj\xe4"})}),t.map((function(e){return Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-2",children:e.nimi}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{onClick:function(){return i(e)},className:"add",children:"+"}),Object(l.jsx)("button",{onClick:function(){return c(e)},className:"remove",children:"-"})]}),Object(l.jsxs)("div",{className:"col-2 text-right",children:[e.qty," x \u20ac",e.hinta.toFixed(2)]})]},e.id)})),0!==t.length&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-2",children:"Tuotteiden hinta"}),Object(l.jsxs)("div",{className:"col-1 text-right",children:["\u20ac",r.toFixed(2)]})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-2",children:"Veron hinta"}),Object(l.jsxs)("div",{className:"col-1 text-right",children:["\u20ac",a.toFixed(2)]})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-2",children:"Kuljetuksen hinta"}),Object(l.jsxs)("div",{className:"col-1 text-right",children:["\u20ac",o.toFixed(2)]})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-2",children:Object(l.jsx)("strong",{children:"Yhteens\xe4"})}),Object(l.jsx)("div",{className:"col-1 text-right",children:Object(l.jsxs)("strong",{children:["\u20ac",d.toFixed(2)]})})]}),Object(l.jsx)("hr",{}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("button",{onClick:function(){return n()},children:"Vahvista tilaus"})})]})]})}var m={tuotteet:[{id:"1",nimi:"Lippalakki",hinta:25.55,kuva:"https://www.vtwincity.fi/verkkokauppa/img/imagecache/450x450_17-556623.JPG"},{id:"2",nimi:"Huppari",hinta:69.95,kuva:"https://www.kids-world.com/images/417px/RD020.jpg"},{id:"3",nimi:"T-paita",hinta:12.35,kuva:"http://www.vtwincity.fi/verkkokauppa/img/imagecache/450x450_17-995159.jpg"}]};function x(e){var t=e.cartItems,i=e.finalPrice;return Object(l.jsxs)("form",{onSubmit:function(e){var c=document.getElementById("osoite").value,n=t.map((function(e){return e.nimi})).reduce((function(e,t){return e+", "+t}));alert("Kiitos tilauksestasi!\r\nToimitus osoite => "+c+"\r\nLopullinen hinta => "+i.toFixed(2)+"\u20ac\r\nTilatut tuotteet => "+n),e.preventDefault(),window.location.reload(!1)},className:"block-2",children:[Object(l.jsx)("h2",{children:"Tilauksen vahvistaminen"}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("input",{type:"text",id:"nimi",placeholder:"Nimi",required:!0})}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("input",{type:"email",id:"email",placeholder:"S\xe4hk\xf6posti",required:!0})}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("input",{type:"tel",id:"puhnro",placeholder:"Puhelin numero",required:!0})}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("input",{type:"address",id:"osoite",placeholder:"Toimitus osoite",required:!0})}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("input",{type:"postal",id:"postalcode",placeholder:"Postinumero",required:!0})}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("input",{type:"text",id:"postitoimipaikka",placeholder:"Postitoimipaikka",required:!0})}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("button",{type:"submit",id:"submit",children:"Vahvista tilaus"})})]})}var O=function(){var e=m.tuotteet,t=Object(c.useState)([]),i=Object(d.a)(t,2),n=i[0],s=i[1],r=Object(c.useState)(!1),u=Object(d.a)(r,2),O=u[0],v=u[1],p=Object(c.useState)(0),f=Object(d.a)(p,2),k=f[0],N=f[1],w=function(e){var t=n.find((function(t){return t.id===e.id}));s(t?n.map((function(i){return i.id===e.id?Object(o.a)(Object(o.a)({},t),{},{qty:t.qty+1}):i})):[].concat(Object(a.a)(n),[Object(o.a)(Object(o.a)({},e),{},{qty:1})]))};return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(j,{countCartItems:n.length}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)(h,{onAdd:w,tuotteet:e}),Object(l.jsx)(b,{setFinalPrice:N,onRemove:function(e){var t=n.find((function(t){return t.id===e.id}));1===t.qty?s(n.filter((function(t){return t.id!==e.id}))):s(n.map((function(i){return i.id===e.id?Object(o.a)(Object(o.a)({},t),{},{qty:t.qty-1}):i})))},onAdd:w,"n\xe4yt\xe4Form":function(){v(!O)},cartItems:n})]}),0!==n.length&&O&&Object(l.jsx)("div",{children:Object(l.jsx)(x,{cartItems:n,finalPrice:k})})]})},v=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,16)).then((function(t){var i=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;i(e),c(e),n(e),s(e),r(e)}))};r.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(O,{})}),document.getElementById("root")),v()}},[[15,1,2]]]);
//# sourceMappingURL=main.b1d0b599.chunk.js.map